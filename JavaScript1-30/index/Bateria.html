<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Bateria</title>
</head>
<body>
    <div class="keys"> 
        <div data-key="97" class="key">
          <kbd>1</kbd> 
          <span class="sound">chirrido</span>
        </div>
        <div data-key="98" class="key">
          <kbd>2</kbd>
          <span class="sound">tambor</span>
        </div>
        <div data-key="99" class="key">
          <kbd>3</kbd>
          <span class="sound">golpe</span>
        </div>
        <div data-key="100" class="key">
          <kbd>4</kbd>
          <span class="sound">absorcion</span>
        </div>
        <div data-key="101" class="key">
          <kbd>5</kbd>
          <span class="sound">platillo</span>
        </div>
        <div data-key="102" class="key">
          <kbd>6</kbd>
          <span class="sound">redoble</span>
        </div>
        <div data-key="103" class="key">
          <kbd>7</kbd>
          <span class="sound">rugido</span>
        </div>
        <div data-key="104" class="key">
          <kbd>8</kbd>
          <span class="sound">metal</span>
        </div>
        <div data-key="105" class="key">
          <kbd>9</kbd>
          <span class="sound">zas</span>
        </div>
      </div>
         <!-- Para codigo de tecla se tiene asignado un sonido el cual esta en la carpeta sounds,el cual se reproducira
     al presionar dicha tecla-->
      <audio data-key="97" src="sounds/000949654_prev.mp3"></audio>
      <audio data-key="98" src="sounds/007131730_prev.mp3"></audio>
      <audio data-key="99" src="sounds/analogica_6.mp3"></audio>
      <audio data-key="100" src="sounds/hacia-atras_1.mp3"></audio>
      <audio data-key="101" src="sounds/openhat.wav"></audio>
      <audio data-key="102" src="sounds/redoble.mp3"></audio>
      <audio data-key="103" src="sounds/rugido.mp3"></audio>
      <audio data-key="104" src="sounds/scifi037.mp3"></audio>
      <audio data-key="105" src="sounds/sonido_zas.mp3"></audio>

<script>
   window.addEventListener("keydown",function(e){
   const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
   const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
   if(!audio) return; //detiene la funcion
audio.currentTime = 0;
   audio.play();
   key.classList.add('playing');
   });

   function removeTransition(e){
     if(e.propertyName != 'transform') return;
     console.log(e.propertyName);
     this.classList.remove('playing');// quita el contorno amarillo de cada recuadro
   }

   const keys = document.querySelectorAll('.key');
   keys.forEach( key => key.addEventListener('transitionend', removeTransition));
</script>

    </body>
</html>